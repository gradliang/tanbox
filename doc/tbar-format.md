# 格式描述
TBA文件，整个文件由四部分组成，分别是：
1. 文件头
2. 字符串表
3. 文件信息表
4. 符号表

其中，符号表是可选的，只有在*.lib文件才会出现。
整个文件里面的多字节整数都是以Little Endian小端排列顺序，涉及到字符串的地方，都使用UTF-8编码。

## 文件头
|字段|大小|描述|
|--	|--	|--	|
|文件标志|3字节|用于标识文件格式,必须是"TBA"|
|格式版本|1字节|必须为数字1|
|文件头校验和|4字节|整个文件的校验和|
|文件总大小|8字节|整个文件的大小|
|文件头总大小|4字节|本文件头的大小|
|文件系统类型|1字节|文件系统类型:<br/>0: 文件系统无关<br/>1: FAT16/FAT32/exFAT<br/>2: Unix UFS<br/>3: Linux EXT2/3/4<br/>4: NTFS<br/>5: ReFS|
|保留|3字节|必须为0|
|字符串表大小|8字节|字符串表大小，单位字节，必须16字节补齐|
|字符串表偏移|8字节|字符串表在整个文件中的偏移|
|文件信息表项数|8字节|文件信息表项数|
|文件信息表偏移|8字节|文件信息表在整个文件中的偏移|
|符号表项数|8字节|符号表项数，只有*.lib文件有效|
|符号表偏移|8字节|符号表在整个文件中的偏移|
|保留|24字节|必须为0|

## 文件信息表
文件信息表紧跟着文件头，是一个数组，其中每一项描述如下：

|字段|大小|描述|
|--	|--	|--	|
|文件名|8字节|文件名在字符串表中的偏移|
|链接名|8字节|链接名在字符串表中的偏移|
|文件大小|8字节|文件大小|
|文件偏移|8字节|文件内容在TBA打包文件的偏移|
|文件修改时间|8字节|64位时间戳|
|uid|4字节|默认为0xFFFFFFFF|
|gid|4字节|默认为0xFFFFFFFF|
|CRC|4字节|文件内容的CRC32值|
|mode|2字节|文件的权限mode位列表<br/>bit0: 其他用户执行<br/>bit1: 其他用户写<br/>bit2: 其他用户读<br/>bit4: 组执行<br/>bit5: 组写<br/>bit6: 组读<br/>bit8: 用户执行<br/>bit9: 用户写<br/>bit10: 用户读<br/>bit12: sticky位<br/>bit13: 执行时设置GID<br/>bit14: 执行时设置UID|
|属性位|2字节|文件的属性位列表<br/>bit0: 只读<br/>bit1: 隐藏<br/>bit2: 存档<br/>bit3: 压缩<br/>bit4: 加密<br/><br/>bit12~bit15:表示文件类型，具体值如下:<br/>(1)值0: 普通文件<br/>(2)值1: 硬链接(指向前一个)<br/>(3)值2: 符号链接<br/>(4)值3: 字符设备节点<br/>(5)值4: 块设备节点<br/>(6)值5: 目录|
|uname|8字节|在字符串表中的偏移，不同文件系统可能有特殊意义|
|gname|8字节|在字符串表中的偏移，不同文件系统可能有特殊意义|
|设备devmajor|4字节|仅用于设备文件|
|设备devminor|4字节|仅用于设备文件|
|保留|16字节|保留，必须为0|









